{"version":3,"sources":["client.js","App.js","index.js"],"names":["axiosInstance","require","create","baseURL","module","exports","Login","React","useState","states","setStates","districts","setDistricts","centers","setCenters","state","setState","district","setDistrict","pincode","setPincode","searchBy","setSearchBy","moment","format","date","setDate","result","setResult","a","client","get","res","console","log","data","findAppointments","selecteddate","url","handleDateChange","action","updateddate","add","e","preventDefault","useEffect","getStates","getDistricts","className","href","target","onSubmit","style","marginTop","class","type","value","checked","onChange","marginLeft","Fragment","for","map","state_id","state_name","district_id","district_name","onClick","Array","i","days","center","width","name","fee_type","address","block_name","obj","_","findWhere","sessions","available_capacity","colorName","min_age_limit","vaccine","color","length","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.bc60ce0b.chunk.js","sourcesContent":["var axios = require(\"axios\");\n\nvar axiosInstance = axios.create({\n  baseURL: \"https://cdn-api.co-vin.in/api/v2\"\n  /* other custom settings */\n});\n\nmodule.exports = axiosInstance;\n","import React from \"react\";\nimport client from \"./client\";\nimport moment from \"moment\";\nimport _ from \"underscore\";\nexport default function Login() {\n  const [states, setStates] = React.useState([]);\n\n  const [districts, setDistricts] = React.useState([]);\n  const [centers, setCenters] = React.useState([]);\n\n  const [state, setState] = React.useState(\"\");\n  const [district, setDistrict] = React.useState(\"\");\n  const [pincode, setPincode] = React.useState(\"\");\n  const [searchBy, setSearchBy] = React.useState(\"pincode\");\n  const [date, setDate] = React.useState(moment().format(\"YYYY-MM-DD\"));\n  const [result, setResult] = React.useState(false);\n  async function getStates() {\n    try {\n      let res = await client.get(\"/admin/location/states\");\n      console.log(\"res\", res);\n      setStates(res.data.states || []);\n    } catch (e) {}\n  }\n  async function getDistricts() {\n    try {\n      let res = await client.get(`/admin/location/districts/${state}`);\n      console.log(\"res\", res);\n      setDistricts(res.data.districts || []);\n    } catch (e) {}\n  }\n  async function findAppointments() {\n    try {\n      setResult(false);\n      let selecteddate = moment(date).format(\"DD-MM-YYYY\");\n      let url =\n        searchBy === \"district\"\n          ? `/appointment/sessions/public/calendarByDistrict?district_id=${district}&date=${selecteddate}`\n          : `/appointment/sessions/public/calendarByPin?pincode=${pincode}&date=${selecteddate}`;\n\n      console.log(\"url\", url);\n      let res = await client.get(url);\n      console.log(\"res\", res);\n      setResult(true);\n      setCenters(res.data.centers || []);\n    } catch (e) {\n      setResult(false);\n    }\n  }\n  function handleDateChange(action) {\n    let updateddate = moment(date);\n    if (action === \"next\") {\n      updateddate = updateddate.add(7, \"days\");\n    } else {\n      updateddate = updateddate.add(-7, \"days\");\n    }\n    setDate(updateddate.format(\"YYYY-MM-DD\"));\n  }\n  React.useEffect(() => {\n    getStates();\n  }, []);\n  React.useEffect(() => {\n    getDistricts();\n  }, [state]);\n  React.useEffect(() => {\n    findAppointments();\n  }, [date]);\n  function addDay(days) {\n    return moment(date).add(days, \"days\").format(\"DD MMM YYYY\");\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    findAppointments();\n    // handleCallback(username, password);\n  }\n  return (\n    <div className=\"row\">\n      <div className=\"col-sm-6 col-xs-12 col-sm-offset-3\">\n        <h3>COWIN - Check your nearest vaccination center</h3>\n        <label>Developed By: Sunil More</label>{\" \"}\n        <a href=\"https://github.com/sunilmore690/cowin-vaccine\" target=\"_blank\">\n          Repo\n        </a>\n        <form onSubmit={handleSubmit} style={{ marginTop: \"20px\" }}>\n          <div class=\"form-group\">\n            <input\n              type=\"radio\"\n              value=\"pincode\"\n              checked={searchBy === \"pincode\"}\n              onChange={(e) => setSearchBy(\"pincode\")}\n            />{\" \"}\n            Search By Pincode\n            <input\n              type=\"radio\"\n              value=\"district\"\n              style={{ marginLeft: \"10px\" }}\n              checked={searchBy === \"district\"}\n              onChange={(e) => setSearchBy(\"district\")}\n            />{\" \"}\n            Search By District\n          </div>\n          {searchBy === \"district\" ? (\n            <React.Fragment>\n              <div class=\"form-group\">\n                <label for=\"email\">State</label>\n                <select\n                  type=\"text\"\n                  class=\"form-control\"\n                  value={state}\n                  onChange={(e) => setState(e.target.value)}\n                >\n                  <option value=\"\">--Select State--</option>\n                  {states.map((state) => (\n                    <option value={state.state_id}>{state.state_name}</option>\n                  ))}\n                </select>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"email\">District</label>\n                <select\n                  type=\"text\"\n                  class=\"form-control\"\n                  value={district}\n                  onChange={(e) => setDistrict(e.target.value)}\n                >\n                  {districts.map((district) => (\n                    <option value={district.district_id}>\n                      {district.district_name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </React.Fragment>\n          ) : (\n            <div class=\"form-group\">\n              <label for=\"email\">Pincode</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={pincode}\n                onChange={(e) => setPincode(e.target.value)}\n              />\n            </div>\n          )}\n\n          <div class=\"form-group hide\">\n            <label for=\"email\">Date</label>\n            <input\n              type=\"date\"\n              className=\"form-control\"\n              value={date}\n              onChange={(e) => setDate(e.target.value)}\n            />\n          </div>\n\n          <button type=\"submit\" class=\"btn btn-success\">\n            Search\n          </button>\n        </form>\n      </div>\n      <div className=\"col-sm-12\">\n        {result ? (\n          <div style={{ marginTop: \"10px\" }}>\n            <div>\n              <span\n                className=\"btn btn-link\"\n                onClick={(e) => handleDateChange(\"prev\")}\n              >\n                {\" \"}\n                Prev\n              </span>\n              <span\n                className=\"btn btn-link pull-right\"\n                onClick={(e) => handleDateChange(\"next\")}\n              >\n                Next{\" \"}\n              </span>\n            </div>\n\n            <table class=\"table table-striped\">\n              <thead>\n                <tr>\n                  <th></th>\n                  {[...Array(7)].map((e, i) => (\n                    <th key={i}>{addDay(i)}</th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {centers.map((center) => (\n                  <tr>\n                    <td style={{ width: \"100px\" }}>\n                      <b>\n                        {center.name} &nbsp;\n                        {center.fee_type === \"Free\" ? null : (\n                          <span class=\"label label-primary\">PAID</span>\n                        )}\n                      </b>\n                      <br />\n                      {center.address},{center.block_name},\n                      {center.district_name},{center.state_name} -{\" \"}\n                      {center.pincode}\n                    </td>\n                    {[...Array(7)].map((e, i) => {\n                      let obj = _.findWhere(center.sessions, {\n                        date: moment(date).add(i, \"days\").format(\"DD-MM-YYYY\")\n                      });\n                      if (!obj) {\n                        return (\n                          <td>\n                            <span className=\"badge\">NA</span>\n                          </td>\n                        );\n                      }\n                      return (\n                        <td key={i}>\n                          {obj.available_capacity == 0 ? (\n                            <span className=\"label label-danger\">Booked</span>\n                          ) : (\n                            <span className=\"label label-success\">\n                              {obj.available_capacity}\n                            </span>\n                          )}\n                          <br />\n                          <span style={{ colorName: \"red\" }}>\n                            Age : {obj.min_age_limit}+\n                          </span>\n                          <br />\n                          <span style={{ colorName: \"darkgrey\" }}>\n                            {obj.vaccine === \"COVISHIELD\" ? (\n                              <span style={{ color: \"blue\" }}>\n                                {obj.vaccine}\n                              </span>\n                            ) : (\n                              <span style={{ color: \"blueviolet\" }}>\n                                {obj.vaccine}\n                              </span>\n                            )}\n                          </span>\n                        </td>\n                      );\n                    })}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            {result && !centers.length ? (\n              <center>\n                <b>No Vaccination Center Available </b>\n              </center>\n            ) : null}\n          </div>\n        ) : null}{\" \"}\n      </div>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <div className=\"container\" style={{ marginTop: \"30px\" }}>\n      <App />\n    </div>\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}