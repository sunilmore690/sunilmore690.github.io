(this["webpackJsonpcowin-vaccine"]=this["webpackJsonpcowin-vaccine"]||[]).push([[0],{11:function(e,t,n){var c=n(29).create({baseURL:"https://cdn-api.co-vin.in/api/v2"});e.exports=c},52:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(21),r=n.n(a),i=n(5),l=n.n(i),o=n(23),u=n(6),d=n(9),j=n(3),b=n(11),p=n.n(b),h=n(7),f=n.n(h),O=n(22),x=n(0),m=["Age 18+","Age 45+","COVISHIELD","COVAXIN","Free","Paid"];function v(e){var t=e.handleFilterChange,n=s.a.useState([]),c=Object(j.a)(n,2),a=c[0],r=c[1];return Object(x.jsx)("div",{className:"row",style:{marginTop:"20px"},children:Object(x.jsx)("div",{className:"col-sm-offset-3 col-sm-6 col-xs-12",children:m.map((function(e){return Object(x.jsx)("input",{value:e,type:"button",style:{margin:"5px",outlineStyle:"none"},className:"btn "+(a.includes(e)?"btn-info":"btn-default"),onClick:function(n){n.preventDefault(),function(e){var n=a.indexOf(e),c=Object(u.a)(a);n>-1?c.splice(n,1):c.push(e),r(c),t(c)}(e)}})}))})})}function g(){var e=s.a.useState([]),t=Object(j.a)(e,2),n=t[0],c=t[1],a=s.a.useState([]),r=Object(j.a)(a,2),i=r[0],b=r[1],h=s.a.useState([]),m=Object(j.a)(h,2),g=m[0],y=m[1],S=s.a.useState([]),N=Object(j.a)(S,2),D=N[0],C=N[1],k=s.a.useState([]),_=Object(j.a)(k,2),Y=_[0],w=_[1],I=s.a.useState(""),A=Object(j.a)(I,2),M=A[0],E=A[1],V=s.a.useState(""),P=Object(j.a)(V,2),F=P[0],B=P[1],L=s.a.useState(""),H=Object(j.a)(L,2),T=H[0],X=H[1],J=s.a.useState("pincode"),R=Object(j.a)(J,2),W=R[0],U=R[1],q=s.a.useState(f()().format("YYYY-MM-DD")),z=Object(j.a)(q,2),G=z[0],K=z[1],Q=s.a.useState(!1),Z=Object(j.a)(Q,2),$=Z[0],ee=Z[1];function te(){return(te=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/admin/location/states");case 3:t=e.sent,console.log("res",t),c(t.data.states||[]),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ne(){return(ne=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/admin/location/districts/".concat(M));case 3:t=e.sent,console.log("res",t),y(t.data.districts||[]),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ce(){return se.apply(this,arguments)}function se(){return(se=Object(d.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee(!1),t=f()(G).format("DD-MM-YYYY"),n="district"===W?"/appointment/sessions/public/calendarByDistrict?district_id=".concat(F,"&date=").concat(t):"/appointment/sessions/public/calendarByPin?pincode=".concat(T,"&date=").concat(t),console.log("url",n),e.next=7,p.a.get(n);case 7:c=e.sent,console.log("res",c),ee(!0),C(Object(u.a)(c.data.centers)),ie(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),ee(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function ae(e){var t=f()(G);t="next"===e?t.add(7,"days"):t.add(-7,"days"),K(t.format("YYYY-MM-DD"))}function re(e){e.target.checked&&U(e.target.value)}function ie(){var e=Object(u.a)(D);if(i.length){var t=(e=e.filter((function(e){return!(!i.includes("Free")||!i.includes("Paid"))||(i.includes("Free")?"Free"==e.fee_type:!i.includes("Paid")||"Paid"==e.fee_type)}))).map((function(e){var t=Object(o.a)({},e);return i.includes("Age 18+")&&i.includes("Age 45+")||(i.includes("Age 18+")?t.sessions=t.sessions.filter((function(e){return 18==e.min_age_limit})):i.includes("Age 45+")&&(t.sessions=t.sessions.filter((function(e){return 45==e.min_age_limit})))),i.includes("COVISHIELD")&&i.includes("COVAXIN")||(i.includes("COVISHIELD")?t.sessions=t.sessions.filter((function(e){return"COVISHIELD"===e.vaccine})):i.includes("COVAXIN")&&(t.sessions=t.sessions.filter((function(e){return"COVAXIN"===e.vaccine})))),t}));w(t.filter((function(e){return e.sessions.length})))}else w(e)}function le(){return(le=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),ce();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){!function(){te.apply(this,arguments)}()}),[]),s.a.useEffect((function(){!function(){ne.apply(this,arguments)}()}),[M]),s.a.useEffect((function(){ce()}),[G]),s.a.useEffect((function(){ie()}),[i,D]),Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-sm-6 col-xs-12 col-sm-offset-3",children:[Object(x.jsx)("h3",{children:"COWIN - Check your nearest vaccination center"}),Object(x.jsx)("label",{children:"Developed By: Sunil More"})," ",Object(x.jsx)("a",{href:"https://github.com/sunilmore690/cowin-vaccine",target:"_blank",children:"Repo"}),Object(x.jsxs)("form",{onSubmit:function(e){return le.apply(this,arguments)},style:{marginTop:"20px"},children:[Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("input",{type:"radio",value:"pincode",checked:"pincode"===W,onChange:re})," ","Search By Pincode",Object(x.jsx)("input",{type:"radio",value:"district",style:{marginLeft:"10px"},checked:"district"===W,onChange:re})," ","Search By District"]}),"district"===W?Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("label",{for:"email",children:"State"}),Object(x.jsxs)("select",{type:"text",class:"form-control",value:M,onChange:function(e){return E(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"--Select State--"}),n.map((function(e){return Object(x.jsx)("option",{value:e.state_id,children:e.state_name})}))]})]}),Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("label",{for:"email",children:"District"}),Object(x.jsxs)("select",{type:"text",class:"form-control",value:F,onChange:function(e){return B(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"--Select District--"}),g.map((function(e){return Object(x.jsx)("option",{value:e.district_id,children:e.district_name})}))]})]})]}):Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("label",{for:"email",children:"Pincode"}),Object(x.jsx)("input",{type:"text",className:"form-control",value:T,onChange:function(e){return X(e.target.value)}})]}),Object(x.jsxs)("div",{class:"form-group hide",children:[Object(x.jsx)("label",{for:"email",children:"Date"}),Object(x.jsx)("input",{type:"date",className:"form-control",value:G,onChange:function(e){return K(e.target.value)}})]}),Object(x.jsx)("button",{type:"submit",class:"btn btn-success",children:"Search"})]})]})}),Object(x.jsx)(v,{handleFilterChange:function(e){b(e)}}),Object(x.jsxs)("div",{className:"row",children:[$?Object(x.jsxs)("div",{style:{marginTop:"10px"},children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("span",{className:"btn btn-link",onClick:function(e){return ae("prev")},children:[" ","Prev"]}),Object(x.jsxs)("span",{className:"btn btn-link pull-right",onClick:function(e){return ae("next")},children:["Next"," "]})]}),Object(x.jsxs)("table",{class:"table table-striped",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{}),Object(u.a)(Array(7)).map((function(e,t){return Object(x.jsx)("th",{children:(n=t,f()(G).add(n,"days").format("DD MMM YYYY"))},t);var n}))]})}),Object(x.jsx)("tbody",{children:Y.map((function(e){return Object(x.jsxs)("tr",{id:e.center_id,children:[Object(x.jsxs)("td",{style:{width:"100px"},children:[Object(x.jsxs)("b",{children:[e.name," \xa0","Free"===e.fee_type?null:Object(x.jsx)("span",{class:"label label-primary",children:"PAID"})]}),Object(x.jsx)("br",{}),e.address,",",e.block_name,",",e.district_name,",",e.state_name," -"," ",e.pincode]}),Object(u.a)(Array(7)).map((function(t,n){var c=O.a.findWhere(e.sessions,{date:f()(G).add(n,"days").format("DD-MM-YYYY")});return c?Object(x.jsxs)("td",{children:[0==c.available_capacity?Object(x.jsx)("span",{className:"label label-danger",children:"Booked"}):Object(x.jsx)("span",{className:"label label-success",children:c.available_capacity}),Object(x.jsx)("br",{}),Object(x.jsxs)("span",{style:{colorName:"red"},children:["Age : ",c.min_age_limit,"+"]}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{style:{colorName:"darkgrey"},children:"COVISHIELD"===c.vaccine?Object(x.jsx)("span",{style:{color:"blue"},children:c.vaccine}):Object(x.jsx)("span",{style:{color:"blueviolet"},children:c.vaccine})})]},n+"session"):Object(x.jsx)("td",{children:Object(x.jsx)("span",{className:"badge",children:"NA"})},"session"+n)}))]})}))})]}),$&&!D.length?Object(x.jsx)("center",{children:Object(x.jsx)("b",{children:"No Vaccination Center Available "})}):null]}):null," "]})]})}n(51);var y=document.getElementById("root");r.a.render(Object(x.jsx)(c.StrictMode,{children:Object(x.jsx)("div",{className:"container",style:{marginTop:"30px"},children:Object(x.jsx)(g,{})})}),y)}},[[52,1,2]]]);
//# sourceMappingURL=main.80fd832e.chunk.js.map